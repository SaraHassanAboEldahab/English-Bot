(this["webpackJsonpenglish-bot"]=this["webpackJsonpenglish-bot"]||[]).push([[0],{85:function(t,n,e){},86:function(t,n,e){"use strict";e.r(n);var o,i,r,a,c,s,l,d,p=e(1),u=e.n(p),b=e(43),x=e.n(b),g=e(2),h=e(12),m=e(3),j=e.p+"static/media/english.9c170a25.png",f=e.p+"static/media/left-arrow.903af5d7.png",O=e(31),v=e(13),y=e.p+"static/media/send.01c24b89.png",w=e(52),S=e.p+"static/media/bot-icon.cfbb308b.png",k=e(0),N=function(){return Object(k.jsx)(M,{children:Object(k.jsxs)(E,{children:[Object(k.jsx)(I,{}),Object(k.jsx)(I,{}),Object(k.jsx)(I,{})]})})},M=m.a.div(o||(o=Object(g.a)(["\n  background-color: #717171;\n  padding: 15px 20px;\n  border-radius: 20px;\n  border-bottom-left-radius: 2px;\n  width: fit-content;\n  margin: 0px 0px 20px 20px;\n"]))),E=m.a.ul(i||(i=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  list-style: none;\n  height: 17px;\n  padding: 0px;\n  margin: 0px;\n"]))),T=Object(m.b)(r||(r=Object(g.a)(["\n 0% {\n    transform: translateY(0px);\n    background-color:white;\n  }\n  28% {\n    transform: translateY(-7px);\n    background-color:#d9d8d8;\n  }\n  44% {\n    transform: translateY(0px);\n    background-color:#bbbaba;\n  }\n"]))),I=m.a.li(a||(a=Object(g.a)(["\n  background-color: white;\n  border-radius: 50%;\n  height: 7px;\n  margin-right: 4px;\n  vertical-align: middle;\n  width: 7px;\n  &:nth-child(1) {\n    animation-delay: 200ms;\n  }\n  &:nth-child(2) {\n    animation-delay: 300ms;\n  }\n  &:nth-child(3) {\n    animation-delay: 400ms;\n  }\n  animation: "," 1.8s infinite ease-in-out;\n"])),T),B=e(26),Q=e.n(B);var J,C,R,q,G,A,W,Y,L,H,_,F,z=function(t){var n=t.buttons,e=t.text,o=t.onBtnClick;return Object(k.jsxs)(D,{children:[Object(k.jsx)(P,{children:e}),Object(k.jsx)(U,{children:null===n||void 0===n?void 0:n.map((function(t){return Object(k.jsx)(K,{onClick:function(){o(t)},children:null===t||void 0===t?void 0:t.title},Q()())}))})]})},D=m.a.div(c||(c=Object(g.a)(["\n  max-width: 300px;\n  text-align: center;\n"]))),P=m.a.h3(s||(s=Object(g.a)(["\n  margin: 0px;\n  /* background-color: #9b9b9b; */\n  background-color: #0073a5;\n  padding: 20px 0px;\n  border-top-left-radius: 20px;\n  border-top-right-radius: 20px;\n  color: white;\n  border: 1px solid #f0f0f0;\n"]))),U=m.a.ul(l||(l=Object(g.a)(["\n  padding: 0px;\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 0px;\n  border: 1px solid #f0f0f0;\n  border-bottom-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n"]))),K=m.a.li(d||(d=Object(g.a)(["\n  border-bottom: 1px solid #f0f0f0;\n  width: 100%;\n  padding: 10px 0px;\n  color: #9b9b9b;\n  cursor: pointer;\n  &:hover {\n    color: #0073a5;\n  }\n  &:last-child {\n    border-bottom: none;\n  }\n"]))),V=Object(w.a)("wss://english-bot-test.herokuapp.com/"),X=["You are too close , but the write answer is {ANSWER}","The correct answer is {ANSWER}","{ANSWER} this is the correct"," Oh sorry , the write answer is {ANSWER}"],Z=["You are right \ud83e\udd29","you are too good","great \ud83d\udc4f","Nice \ud83d\ude01\ud83d\ude01","You are right \u2705 "],$=["Happy end","See you later\ud83d\ude4b\u200d\u2640\ufe0f"," Peace out\ud83e\udd73"," It was nice to see you again\ud83d\ude4b\u200d\u2640\ufe0f","Take care","I look forward to our next dialogue","Good bye","Bye bye!\ud83d\udc4b","Have a nice day","Goodnight","I\u2019m out of here","\ud83e\udd73"],tt=function(){var t,n,e,o,i,r,a,c=Object(p.useRef)(),s=Object(p.useState)((null===(t=JSON.parse(localStorage.getItem("bot")))||void 0===t?void 0:t.questionNo)||0),l=Object(h.a)(s,2),d=l[0],u=l[1],b=Object(p.useState)((null===(n=JSON.parse(localStorage.getItem("bot")))||void 0===n?void 0:n.modelNo)||Math.floor(3*Math.random())),x=Object(h.a)(b,2),g=x[0],m=(x[1],Object(p.useState)((null===(e=JSON.parse(localStorage.getItem("messages")))||void 0===e?void 0:e.messages)||[])),j=Object(h.a)(m,2),f=j[0],w=j[1],M=Object(p.useState)({text:""}),E=Object(h.a)(M,2),T=E[0],I=E[1],B=Object(p.useState)(null===(o=null===(i=JSON.parse(localStorage.getItem("bot")))||void 0===i?void 0:i.typing)||void 0===o||o),J=Object(h.a)(B,2),C=J[0],R=J[1],q=Object(p.useState)((null===(r=JSON.parse(localStorage.getItem("bot")))||void 0===r?void 0:r.botMsg)||{}),G=Object(h.a)(q,2),A=G[0],W=G[1],Y=Object(p.useState)((null===(a=JSON.parse(localStorage.getItem("bot")))||void 0===a?void 0:a.currentQuestionType)||"intro"),L=Object(h.a)(Y,2),H=L[0],_=L[1];Object(p.useEffect)((function(){localStorage.setItem("bot",JSON.stringify({questionNo:d,currentQuestionType:H,botMsg:A,typing:C,modelNo:g}))}),[d,H,A,C,g]),Object(p.useEffect)((function(){localStorage.setItem("messages",JSON.stringify({messages:f}))}),[f]),Object(p.useEffect)((function(){0===f.length&&setTimeout((function(){V.emit("getIntroQuestion",{questionNo:d}),V.on("responseIntroQuestion",(function(t){var n=t.message,e=t.last;w([].concat(Object(v.a)(f),[{from:"English BOT",text:n.text}])),e||u(d+1),R(!1)}))}),2e3)}),[]),Object(p.useEffect)((function(){"model"===H&&(V.off("checkGrammerResult"),V.on("checkGrammerResult",(function(t){var n=t.message,e=t.result,o=e.result,i=e.corrections;0===(null===i||void 0===i?void 0:i.length)||(null===n||void 0===n?void 0:n.toLowerCase().replace(/\ /g,""))===(null===o||void 0===o?void 0:o.toLocaleLowerCase().replace(/\ /g,""))?(R(!1),w([].concat(Object(v.a)(f),[{from:"English BOT",text:Z[Math.floor(Math.random()*(Z.length-1))],type:null===n||void 0===n?void 0:n.type,buttons:null===n||void 0===n?void 0:n.buttons}]))):(R(!1),w([].concat(Object(v.a)(f),[{from:"English BOT",text:"\n              ".concat(X[Math.floor(Math.random()*(X.length-1))].replace("{ANSWER}","<strong>".concat(o,"</strong>")),"\n              "),type:null===n||void 0===n?void 0:n.type,buttons:null===n||void 0===n?void 0:n.buttons}]))),A.last?V.emit("getEndQuestion",{}):V.emit("getModelQuestion",{questionNo:d,modelNo:g})}))),_(H),V.off("responseIntroQuestion"),V.off("responseModelQuestion"),V.on("responseIntroQuestion",(function(t){var n=t.message,e=t.last;w([].concat(Object(v.a)(f),[{from:"English BOT",text:n.text,type:null===n||void 0===n?void 0:n.type,buttons:null===n||void 0===n?void 0:n.buttons}])),W({message:n,last:e}),e||u(d+1),R(!1)})),V.on("responseModelQuestion",(function(t){var n=t.message,e=t.last;w([].concat(Object(v.a)(f),[{from:"English BOT",text:n.text,type:null===n||void 0===n?void 0:n.type,buttons:null===n||void 0===n?void 0:n.buttons}])),W({message:n,last:e}),e?(w([].concat(Object(v.a)(f),[{from:"English BOT",text:$[Math.floor(Math.random()*($.length-1))]}])),_("end")):u(d+1),R(!1)})),c.current.addEventListener("DOMNodeInserted",(function(t){var n=t.currentTarget;n.scroll({top:n.scrollHeight,behavior:"smooth"})}))}),[f,d,T.text,H]);var F=function(t){w([].concat(Object(v.a)(f),[{from:"Me",text:t.title}])),setTimeout((function(){if(R(!1),!0===t.correct)w([].concat(Object(v.a)(f),[{from:"Me",text:t.title},{from:"English BOT",text:Z[Math.floor(Math.random()*(Z.length-1))],type:null===t||void 0===t?void 0:t.type,buttons:null===t||void 0===t?void 0:t.buttons}]));else{var n,e=null===(n=A.message.buttons.find((function(t){return!0===t.correct})))||void 0===n?void 0:n.title;console.log(A.message.buttons),w([].concat(Object(v.a)(f),[{from:"Me",text:t.title},{from:"English BOT",text:"\n            ".concat(X[Math.floor(Math.random()*(X.length-1))].replace("{ANSWER}","<strong>".concat(e,"</strong>")),"\n            "),type:null===t||void 0===t?void 0:t.type,buttons:null===t||void 0===t?void 0:t.buttons}]))}A.last?V.emit("getEndQuestion",{}):V.emit("getModelQuestion",{questionNo:d,modelNo:g})}),1e3)};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(et,{ref:c,children:f.map((function(t,n){var e=t.from,o=t.text,i=t.type,r=t.buttons;return Object(k.jsx)(k.Fragment,{children:"English BOT"===e?Object(k.jsxs)(ot,{children:[Object(k.jsx)("img",{src:S,alt:" "}),"@message-type/button"===i?Object(k.jsx)(z,{buttons:r,text:o,setMessages:w,messages:f,socket:V,onBtnClick:F}):Object(k.jsx)("span",{dangerouslySetInnerHTML:{__html:"\n                    <style>\n                    strong{\n                      color: #74eaf4;\n                    }\n                    </style>\n                    <div>".concat(o,"</div>\n                    ")}})]},Q()()):Object(k.jsx)(it,{children:Object(k.jsx)("span",{children:o})},n)})}))}),C&&Object(k.jsx)(N,{}),Object(k.jsxs)(nt,{onSubmit:function(t){return function(t){var n,e;t.preventDefault(),w([].concat(Object(v.a)(f),[{from:"Me",text:T.text}])),R(!0),(null===A||void 0===A||null===(n=A.message)||void 0===n||null===(e=n.response)||void 0===e?void 0:e.length)>0&&"intro"===H&&setTimeout((function(){var t=A.message.response[Math.floor(Math.random()*(A.message.response.length-1))];w([].concat(Object(v.a)(f),[{from:"Me",text:T.text},{from:"English BOT",text:t}])),A.last?(u(0),V.emit("getModelQuestion",{questionNo:d,modelNo:g}),W({}),_("model")):(R(!0),V.emit("getIntroQuestion",{questionNo:d}))}),1e3),"model"===H&&(V.emit("checkGrammer",Object(O.a)(Object(O.a)({},T),{},{_id:A.message._id})),W({})),I({text:""})}(t)},children:[Object(k.jsx)("input",{value:T.text,onChange:function(t){return I({text:t.target.value})},type:"text",placeholder:"send a message..."}),Object(k.jsx)("button",{type:"submit",children:Object(k.jsx)("img",{src:y,alt:""})})]})]})},nt=m.a.form(J||(J=Object(g.a)(["\n  display: flex;\n  width: 100%;\n  border-top: 1px solid rgb(230, 230, 230);\n  input {\n    border: none;\n    height: 40px;\n    width: 80%;\n    padding: 10px 20px;\n    outline: 0;\n  }\n  button {\n    border: none;\n    background-color: white;\n    width: 18%;\n    display: flex;\n    justify-content: end;\n    align-items: center;\n    img {\n      width: 32px;\n      height: 32px;\n    }\n  }\n"]))),et=m.a.div(C||(C=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  max-height: 400px;\n  min-height: 400px;\n  background: white;\n  overflow-y: auto;\n  padding: 15px 20px;\n  span {\n    width: fit-content;\n    height: fit-content;\n    border-top-left-radius: 10px;\n    border-top-right-radius: 10px;\n    border-bottom-right-radius: 10px;\n    margin-bottom: 10px;\n  }\n"]))),ot=m.a.div(R||(R=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  span {\n    background-color: #9b9b9b;\n    color: white;\n    padding: 10px;\n  }\n  img {\n    width: 40px;\n    height: 40px;\n    margin-right: 10px;\n  }\n"]))),it=m.a.div(q||(q=Object(g.a)(["\n  margin-left: auto;\n  span {\n    display: block;\n    background-color: #0073a5;\n    color: white;\n    margin-left: 10px;\n    padding: 10px;\n  }\n"]))),rt=(m.a.div(G||(G=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  strong {\n    /* display: inline-block; */\n    color: #74eaf4;\n    margin: 0px 0px 0px 10px;\n  }\n"]))),function(){var t=Object(p.useState)(!1),n=Object(h.a)(t,2),e=n[0],o=n[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(lt,{children:Object(k.jsxs)(at,{children:[e&&Object(k.jsx)(ct,{onClick:function(){return o(!1)},src:f,alt:""}),Object(k.jsxs)(dt,{children:[Object(k.jsx)(st,{src:j,alt:""}),Object(k.jsx)("span",{children:" English Bot "})]}),Object(k.jsx)("p",{children:"I can help you to improve your english."})]})}),Object(k.jsx)(at,{children:Object(k.jsxs)(pt,{children:[!e&&Object(k.jsxs)(ut,{children:[Object(k.jsx)("h3",{children:"Get Started"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:"replyNote",children:"My usual reply time"}),Object(k.jsx)("br",{}),Object(k.jsx)("span",{className:"replyTome",children:"\ud83d\udd53 Under 1 min"})]}),Object(k.jsx)("button",{onClick:function(){return o(!0)},children:"Get Started"})]}),e&&Object(k.jsx)(tt,{})]})})]})}),at=m.a.div(A||(A=Object(g.a)(["\n  padding: 0px 25px;\n"]))),ct=m.a.img(W||(W=Object(g.a)(["\n  width: 20px;\n  height: 20px;\n  margin: 0px 10px 20px 0px;\n  cursor: pointer;\n"]))),st=m.a.img(Y||(Y=Object(g.a)(["\n  width: 50px;\n  height: 50px;\n  margin-right: 10px;\n"]))),lt=m.a.div(L||(L=Object(g.a)(["\n  color: white;\n  background-color: #14243d;\n  padding: 40px 20px 100px 20px;\n  p {\n    font-size: 20px;\n  }\n"]))),dt=m.a.h1(H||(H=Object(g.a)(["\n  margin: 10px 0px 0px 0px;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n"]))),pt=m.a.div(_||(_=Object(g.a)(["\n  margin: -70px 0px 0px 0px;\n  background-color: white;\n  border-radius: 5px;\n  box-shadow: rgb(0 0 0 / 10%) 0px 4px 15px 0px,\n    rgb(0 0 0 / 10%) 0px 1px 2px 0px, rgb(32 43 57 / 50%) 0px -2px 0px 0px;\n  display: flex;\n  flex-direction: column;\n"]))),ut=m.a.div(F||(F=Object(g.a)(["\n  padding: 15px 20px;\n  .replyNote {\n    color: gray;\n    margin: 0px 0px 5px 0px;\n  }\n  .replyTome {\n    font-weight: bold;\n  }\n  button {\n    border: none;\n    background-color: #763c1a;\n    color: white;\n    padding: 15px 20px;\n    border-radius: 30px;\n    font-weight: 600;\n    font-size: 16px;\n    cursor: pointer;\n    width: 200px;\n    margin: 30px 0px 40px 0px;\n    transition: background-color 0.1s ease-in;\n    &:hover {\n      background-color: #bc6a39;\n    }\n  }\n"]))),bt=e(30),xt=e.n(bt),gt=e(50),ht=e(51),mt=e.n(ht),jt=u.a.createContext(),ft=function(t){var n=t.children,e=Object(p.useState)({}),o=Object(h.a)(e,2),i=o[0],r=o[1],a=function(){var t=Object(gt.a)(xt.a.mark((function t(){var n,e;return xt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mt.a.get("https://english-bot-test.herokuapp.com/api/bot-flow");case 2:n=t.sent,e=n.data,r(e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(p.useEffect)((function(){a()}),[]),Object(k.jsx)(jt.Provider,{value:i,children:n})},Ot=function(){return Object(k.jsx)(ft,{children:Object(k.jsx)(rt,{})})};e(85);x.a.render(Object(k.jsx)(Ot,{}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.7cae37eb.chunk.js.map