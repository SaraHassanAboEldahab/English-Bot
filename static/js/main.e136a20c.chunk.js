(this["webpackJsonpenglish-bot"]=this["webpackJsonpenglish-bot"]||[]).push([[0],{80:function(n,t,e){},81:function(n,t,e){"use strict";e.r(t);var o,i,r,a,c,s,l,d,p=e(1),b=e.n(p),x=e(40),u=e.n(x),h=e(2),j=e(12),g=e(3),m=e.p+"static/media/english.9c170a25.png",f=e.p+"static/media/left-arrow.903af5d7.png",O=e(16),v=e.p+"static/media/send.01c24b89.png",y=e(49),w=e.p+"static/media/bot-icon.cfbb308b.png",k=e(0),M=function(){return Object(k.jsx)(E,{children:Object(k.jsxs)(N,{children:[Object(k.jsx)(T,{}),Object(k.jsx)(T,{}),Object(k.jsx)(T,{})]})})},E=g.a.div(o||(o=Object(h.a)(["\n  background-color: #717171;\n  padding: 15px 20px;\n  border-radius: 20px;\n  border-bottom-left-radius: 2px;\n  width: fit-content;\n  margin: 0px 0px 20px 20px;\n"]))),N=g.a.ul(i||(i=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  list-style: none;\n  height: 17px;\n  padding: 0px;\n  margin: 0px;\n"]))),S=Object(g.b)(r||(r=Object(h.a)(["\n 0% {\n    transform: translateY(0px);\n    background-color:white;\n  }\n  28% {\n    transform: translateY(-7px);\n    background-color:#d9d8d8;\n  }\n  44% {\n    transform: translateY(0px);\n    background-color:#bbbaba;\n  }\n"]))),T=g.a.li(a||(a=Object(h.a)(["\n  background-color: white;\n  border-radius: 50%;\n  height: 7px;\n  margin-right: 4px;\n  vertical-align: middle;\n  width: 7px;\n  &:nth-child(1) {\n    animation-delay: 200ms;\n  }\n  &:nth-child(2) {\n    animation-delay: 300ms;\n  }\n  &:nth-child(3) {\n    animation-delay: 400ms;\n  }\n  animation: "," 1.8s infinite ease-in-out;\n"])),S);var B,Q,I,C,R,A,L,W,Y,q,G,_,F=function(n){var t=n.buttons,e=n.text,o=n.onBtnClick;return Object(k.jsxs)(H,{children:[Object(k.jsx)(z,{children:e}),Object(k.jsx)(D,{children:null===t||void 0===t?void 0:t.map((function(n){return Object(k.jsx)(J,{onClick:function(){o(n)},children:n.title})}))})]})},H=g.a.div(c||(c=Object(h.a)(["\n  max-width: 300px;\n  text-align: center;\n"]))),z=g.a.h3(s||(s=Object(h.a)(["\n  margin: 0px;\n  /* background-color: #9b9b9b; */\n  background-color: #0073a5;\n  padding: 20px 0px;\n  border-top-left-radius: 20px;\n  border-top-right-radius: 20px;\n  color: white;\n  border: 1px solid #f0f0f0;\n"]))),D=g.a.ul(l||(l=Object(h.a)(["\n  padding: 0px;\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 0px;\n  border: 1px solid #f0f0f0;\n  border-bottom-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n"]))),J=g.a.li(d||(d=Object(h.a)(["\n  border-bottom: 1px solid #f0f0f0;\n  width: 100%;\n  padding: 10px 0px;\n  color: #9b9b9b;\n  cursor: pointer;\n  &:hover {\n    color: #0073a5;\n  }\n  &:last-child {\n    border-bottom: none;\n  }\n"]))),P=Object(y.a)("wss://english-bot-test.herokuapp.com/"),U=["You are too close , but the write answer is {ANSWER}","The correct answer is {ANSWER}","{ANSWER} this is the correct"," Oh sorry , the write answer is {ANSWER}"],K=["You are right \ud83e\udd29","you are too good","great \ud83d\udc4f","Nice \ud83d\ude01\ud83d\ude01","You are right \u2705 "],V=function(){var n=Object(p.useRef)(),t=Object(p.useState)(0),e=Object(j.a)(t,2),o=e[0],i=e[1],r=Object(p.useState)(Math.floor(3*Math.random())),a=Object(j.a)(r,2),c=a[0],s=(a[1],Object(p.useState)([])),l=Object(j.a)(s,2),d=l[0],b=l[1],x=Object(p.useState)({text:""}),u=Object(j.a)(x,2),h=u[0],g=u[1],m=Object(p.useState)(!0),f=Object(j.a)(m,2),y=f[0],E=f[1],N=Object(p.useState)({}),S=Object(j.a)(N,2),T=S[0],B=S[1],Q=Object(p.useState)("intro"),I=Object(j.a)(Q,2),C=I[0],R=I[1];Object(p.useEffect)((function(){0===d.length&&setTimeout((function(){P.emit("getIntroQuestion",{questionNo:o}),P.on("responseIntroQuestion",(function(n){var t=n.message,e=n.last;b([].concat(Object(O.a)(d),[{from:"English BOT",text:t.text}])),e||i(o+1),E(!1)}))}),2e3)}),[]),Object(p.useEffect)((function(){"model"===C&&(P.off("checkGrammerResult"),P.on("checkGrammerResult",(function(n){var t=n.message,e=n.result,i=e.result,r=e.corrections;if(0===(null===r||void 0===r?void 0:r.length)||(null===t||void 0===t?void 0:t.toLowerCase().replace(/\ /g,""))===(null===i||void 0===i?void 0:i.toLocaleLowerCase().replace(/\ /g,"")))return E(!1),b([].concat(Object(O.a)(d),[{from:"English BOT",text:K[Math.floor(Math.random()*(K.length-1))],type:null===t||void 0===t?void 0:t.type,buttons:null===t||void 0===t?void 0:t.buttons}])),void(T.last?P.emit("getEndQuestion",{}):P.emit("getModelQuestion",{questionNo:o,modelNo:c}));E(!1),b([].concat(Object(O.a)(d),[{from:"English BOT",text:Object(k.jsx)(tn,{children:Object(k.jsx)("div",{dangerouslySetInnerHTML:{__html:"<div>\n                ".concat(U[Math.floor(Math.random()*(U.length-1))].replace("{ANSWER}","<h4>".concat(i,"</h4>")),"\n                </div>")}})}),type:null===t||void 0===t?void 0:t.type,buttons:null===t||void 0===t?void 0:t.buttons}]))}))),R(C),P.off("responseIntroQuestion"),P.off("responseModelQuestion"),P.on("responseIntroQuestion",(function(n){var t=n.message,e=n.last;b([].concat(Object(O.a)(d),[{from:"English BOT",text:t.text,type:null===t||void 0===t?void 0:t.type,buttons:null===t||void 0===t?void 0:t.buttons}])),B({message:t,last:e}),e||i(o+1),E(!1)})),P.on("responseModelQuestion",(function(n){var t=n.message,e=n.last;b([].concat(Object(O.a)(d),[{from:"English BOT",text:t.text,type:null===t||void 0===t?void 0:t.type,buttons:null===t||void 0===t?void 0:t.buttons}])),console.log(t),B({message:t,last:e}),e||i(o+1),E(!1)})),n.current.addEventListener("DOMNodeInserted",(function(n){var t=n.currentTarget;t.scroll({top:t.scrollHeight,behavior:"smooth"})}))}),[d,o,h.text,C]);var A=function(n){b([].concat(Object(O.a)(d),[{from:"Me",text:n.title}])),setTimeout((function(){if(E(!1),!0===n.correct)b([].concat(Object(O.a)(d),[{from:"Me",text:n.title},{from:"English BOT",text:K[Math.floor(Math.random()*(K.length-1))],type:null===n||void 0===n?void 0:n.type,buttons:null===n||void 0===n?void 0:n.buttons}]));else{var t=T.message.buttons.find((function(n){return!0===n.correct})).title;console.log(":::::::",T.message),b([].concat(Object(O.a)(d),[{from:"Me",text:n.title},{from:"English BOT",text:Object(k.jsx)(tn,{children:Object(k.jsx)("div",{dangerouslySetInnerHTML:{__html:"<div>\n              ".concat(U[Math.floor(Math.random()*(U.length-1))].replace("{ANSWER}","<h4>".concat(t,"</h4>")),"\n              </div>")}})}),type:null===n||void 0===n?void 0:n.type,buttons:null===n||void 0===n?void 0:n.buttons}]))}T.last?P.emit("getEndQuestion",{}):P.emit("getModelQuestion",{questionNo:o,modelNo:c})}),1e3)};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Z,{ref:n,children:d.map((function(n,t){var e=n.from,o=n.text,i=n.type,r=n.buttons;return Object(k.jsx)(k.Fragment,{children:"English BOT"===e?Object(k.jsxs)($,{children:[Object(k.jsx)("img",{src:w,alt:" "}),"@message-type/button"===i?Object(k.jsx)(F,{buttons:r,text:o,setMessages:b,messages:d,socket:P,onBtnClick:A}):Object(k.jsx)("span",{children:o})]},t):Object(k.jsx)(nn,{children:Object(k.jsx)("span",{children:o})},t)})}))}),y&&Object(k.jsx)(M,{}),Object(k.jsxs)(X,{onSubmit:function(n){return function(n){var t,e;n.preventDefault(),b([].concat(Object(O.a)(d),[{from:"Me",text:h.text}])),E(!0),(null===T||void 0===T||null===(t=T.message)||void 0===t||null===(e=t.response)||void 0===e?void 0:e.length)>0&&"intro"===C&&setTimeout((function(){var n=T.message.response[Math.floor(Math.random()*(T.message.response.length-1))];b([].concat(Object(O.a)(d),[{from:"Me",text:h.text},{from:"English BOT",text:n}])),T.last?(i(0),P.emit("getModelQuestion",{questionNo:o,modelNo:c}),B({}),R("model")):(E(!0),P.emit("getIntroQuestion",{questionNo:o}))}),1e3),"model"===C&&(P.emit("checkGrammer",h),B({})),g({text:""})}(n)},children:[Object(k.jsx)("input",{value:h.text,onChange:function(n){return g({text:n.target.value})},type:"text",placeholder:"send a message..."}),Object(k.jsx)("button",{type:"submit",children:Object(k.jsx)("img",{src:v,alt:""})})]})]})},X=g.a.form(B||(B=Object(h.a)(["\n  display: flex;\n  width: 100%;\n  border-top: 1px solid rgb(230, 230, 230);\n  input {\n    border: none;\n    height: 40px;\n    width: 80%;\n    padding: 10px 20px;\n    outline: 0;\n  }\n  button {\n    border: none;\n    background-color: white;\n    width: 18%;\n    display: flex;\n    justify-content: end;\n    align-items: center;\n    img {\n      width: 32px;\n      height: 32px;\n    }\n  }\n"]))),Z=g.a.div(Q||(Q=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  max-height: 400px;\n  min-height: 400px;\n  background: white;\n  overflow-y: auto;\n  padding: 15px 20px;\n  span {\n    width: fit-content;\n    height: fit-content;\n    border-top-left-radius: 10px;\n    border-top-right-radius: 10px;\n    border-bottom-right-radius: 10px;\n    margin-bottom: 10px;\n  }\n"]))),$=g.a.div(I||(I=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  span {\n    background-color: #9b9b9b;\n    color: white;\n    padding: 10px;\n  }\n  img {\n    width: 40px;\n    height: 40px;\n    margin-right: 10px;\n  }\n"]))),nn=g.a.div(C||(C=Object(h.a)(["\n  margin-left: auto;\n  span {\n    display: block;\n    background-color: #0073a5;\n    color: white;\n    margin-left: 10px;\n    padding: 10px;\n  }\n"]))),tn=g.a.div(R||(R=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  h4 {\n    display: inline-block;\n    color: #74eaf4;\n    margin: 0px 0px 0px 10px;\n  }\n"]))),en=function(){var n=Object(p.useState)(!1),t=Object(j.a)(n,2),e=t[0],o=t[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(cn,{children:Object(k.jsxs)(on,{children:[e&&Object(k.jsx)(rn,{onClick:function(){return o(!1)},src:f,alt:""}),Object(k.jsxs)(sn,{children:[Object(k.jsx)(an,{src:m,alt:""}),Object(k.jsx)("span",{children:" English Bot "})]}),Object(k.jsx)("p",{children:"I can help you to improve your english."})]})}),Object(k.jsx)(on,{children:Object(k.jsxs)(ln,{children:[!e&&Object(k.jsxs)(dn,{children:[Object(k.jsx)("h3",{children:"Get Started"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:"replyNote",children:"My usual reply time"}),Object(k.jsx)("br",{}),Object(k.jsx)("span",{className:"replyTome",children:"\ud83d\udd53 Under 1 min"})]}),Object(k.jsx)("button",{onClick:function(){return o(!0)},children:"Get Started"})]}),e&&Object(k.jsx)(V,{})]})})]})},on=g.a.div(A||(A=Object(h.a)(["\n  padding: 0px 25px;\n"]))),rn=g.a.img(L||(L=Object(h.a)(["\n  width: 20px;\n  height: 20px;\n  margin: 0px 10px 20px 0px;\n  cursor: pointer;\n"]))),an=g.a.img(W||(W=Object(h.a)(["\n  width: 50px;\n  height: 50px;\n  margin-right: 10px;\n"]))),cn=g.a.div(Y||(Y=Object(h.a)(["\n  color: white;\n  background-color: #14243d;\n  padding: 40px 20px 100px 20px;\n  p {\n    font-size: 20px;\n  }\n"]))),sn=g.a.h1(q||(q=Object(h.a)(["\n  margin: 10px 0px 0px 0px;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n"]))),ln=g.a.div(G||(G=Object(h.a)(["\n  margin: -70px 0px 0px 0px;\n  background-color: white;\n  border-radius: 5px;\n  box-shadow: rgb(0 0 0 / 10%) 0px 4px 15px 0px,\n    rgb(0 0 0 / 10%) 0px 1px 2px 0px, rgb(32 43 57 / 50%) 0px -2px 0px 0px;\n  display: flex;\n  flex-direction: column;\n"]))),dn=g.a.div(_||(_=Object(h.a)(["\n  padding: 15px 20px;\n  .replyNote {\n    color: gray;\n    margin: 0px 0px 5px 0px;\n  }\n  .replyTome {\n    font-weight: bold;\n  }\n  button {\n    border: none;\n    background-color: #763c1a;\n    color: white;\n    padding: 15px 20px;\n    border-radius: 30px;\n    font-weight: 600;\n    font-size: 16px;\n    cursor: pointer;\n    width: 200px;\n    margin: 30px 0px 40px 0px;\n    transition: background-color 0.1s ease-in;\n    &:hover {\n      background-color: #bc6a39;\n    }\n  }\n"]))),pn=e(29),bn=e.n(pn),xn=e(47),un=e(48),hn=e.n(un),jn=b.a.createContext(),gn=function(n){var t=n.children,e=Object(p.useState)({}),o=Object(j.a)(e,2),i=o[0],r=o[1],a=function(){var n=Object(xn.a)(bn.a.mark((function n(){var t,e;return bn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,hn.a.get("https://english-bot-test.herokuapp.com/api/bot-flow");case 2:t=n.sent,e=t.data,r(e);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(p.useEffect)((function(){a()}),[]),Object(k.jsx)(jn.Provider,{value:i,children:t})},mn=function(){return Object(k.jsx)(gn,{children:Object(k.jsx)(en,{})})};e(80);u.a.render(Object(k.jsx)(mn,{}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.e136a20c.chunk.js.map