(this["webpackJsonpenglish-bot"]=this["webpackJsonpenglish-bot"]||[]).push([[0],{57:function(t,e,o){},58:function(t,e,o){"use strict";o.r(e);var n,s,i,r,a,l,c,u,d,g,b,p,m,h,f,v,j,x,O,y,M,N,S,T=o(0),E=o(35),I=o.n(E),B=o(21),Q=o(5),w=o(4),k=o(6),J=o(1),q=[{botName:"Bot 1",botDescription:"It will correct your incorrect answers",botLink:"/english-bot/bot1",botItem:"bot1",messagesItem:"messages1"},{botName:"Bot 2",botDescription:"It won't correct your incorrect answers",botLink:"/english-bot/bot2",botItem:"bot2",messagesItem:"messages2"},{botName:"Bot 3",botDescription:"It will correct your incorrect answers after three tries",botLink:"/english-bot/bot3",botItem:"bot3",messagesItem:"messages3"}],C=function(t){t.setActive;return Object(J.jsx)(A,{children:Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(L,{children:[Object(J.jsx)("h3",{children:"Get Started With One Of The Bots \ud83d\udc47"}),q.map((function(t,e){return Object(J.jsxs)(W,{children:[Object(J.jsx)("summary",{children:t.botName}),Object(J.jsxs)("p",{children:[t.botDescription," , If you want to finish your previous attempt, click complete, or if you want to start over, click start."]}),Object(J.jsxs)(R,{children:[Object(J.jsx)(B.b,{to:t.botLink,children:Object(J.jsx)(G,{children:"Complete"})}),Object(J.jsx)(B.b,{to:t.botLink,children:Object(J.jsx)(F,{onClick:function(){localStorage.removeItem(t.botItem),localStorage.removeItem(t.messagesItem)},children:"Start"})})]})]},e)}))]})})})},A=k.a.div(n||(n=Object(Q.a)(["\n  margin: -70px 0px 0px 0px;\n  background-color: white;\n  border-radius: 5px;\n  box-shadow: rgb(0 0 0 / 10%) 0px 4px 15px 0px,\n    rgb(0 0 0 / 10%) 0px 1px 2px 0px, rgb(32 43 57 / 50%) 0px -2px 0px 0px;\n  display: flex;\n  flex-direction: column;\n"]))),L=k.a.div(s||(s=Object(Q.a)(["\n  padding: 15px 20px;\n  .replyNote {\n    color: gray;\n    margin: 0px 0px 5px 0px;\n  }\n  .replyTome {\n    font-weight: bold;\n  }\n"]))),R=k.a.div(i||(i=Object(Q.a)(["\n  display: flex;\n"]))),G=k.a.button(r||(r=Object(Q.a)(["\n  border: none;\n  background-color: #0695d5;\n  color: white;\n  padding: 10px 20px;\n  border-radius: 12px;\n  font-weight: 600;\n  font-size: 16px;\n  cursor: pointer;\n  margin: 10px 10px 10px 25px;\n  transition: background-color 0.1s ease-in;\n  &:hover {\n    background-color: #04638d;\n  }\n"]))),F=k.a.button(a||(a=Object(Q.a)(["\n  border: none;\n  background-color: #a9b1b5;\n  color: white;\n  padding: 10px 20px;\n  border-radius: 12px;\n  font-weight: 600;\n  font-size: 16px;\n  cursor: pointer;\n  margin: 10px 0px;\n  transition: background-color 0.1s ease-in;\n  &:hover {\n    background-color: #7f8385;\n  }\n"]))),W=k.a.details(l||(l=Object(Q.a)(['\n  summary::before {\n    content: "\u25b6\ufe0f  ";\n  }\n  &[open] {\n    summary::before {\n      content: "\ud83d\udd3d  ";\n    }\n  }\n  summary {\n    cursor: pointer;\n    list-style: none;\n    font-weight: bold;\n    margin-bottom: 15px;\n  }\n  p {\n    margin: 0px 0px 0px 25px;\n    color: gray;\n    width: 50%;\n  }\n']))),D=o.p+"static/media/english.9c170a25.png",H=o.p+"static/media/left-arrow.903af5d7.png",Y=function(t){var e=t.active,o=t.setActive;return Object(J.jsx)(K,{children:Object(J.jsxs)(J.Fragment,{children:[e&&Object(J.jsx)(B.b,{to:"/english-bot",onClick:function(){return o(!1)},children:Object(J.jsx)(z,{src:H,alt:""})}),Object(J.jsxs)(_,{children:[Object(J.jsx)(P,{src:D,alt:""}),Object(J.jsx)("span",{children:" English Bot "})]}),Object(J.jsx)("p",{children:"I can help you to improve your english."})]})})},_=k.a.h1(c||(c=Object(Q.a)(["\n  margin: 10px 0px 0px 0px;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n"]))),z=k.a.img(u||(u=Object(Q.a)(["\n  width: 20px;\n  height: 20px;\n  margin: 0px 10px 20px 0px;\n  cursor: pointer;\n"]))),P=k.a.img(d||(d=Object(Q.a)(["\n  width: 50px;\n  height: 50px;\n  margin-right: 10px;\n"]))),K=k.a.div(g||(g=Object(Q.a)(["\n  color: white;\n  background-color: #14243d;\n  padding: 40px 20px 100px 20px;\n  p {\n    font-size: 20px;\n  }\n"]))),U=function(){return Object(J.jsx)(V,{children:Object(J.jsxs)(X,{children:[Object(J.jsx)($,{}),Object(J.jsx)($,{}),Object(J.jsx)($,{})]})})},V=k.a.div(b||(b=Object(Q.a)(["\n  background-color: #717171;\n  padding: 15px 20px;\n  border-radius: 20px;\n  border-bottom-left-radius: 2px;\n  width: fit-content;\n  margin: 0px 0px 20px 20px;\n"]))),X=k.a.ul(p||(p=Object(Q.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  list-style: none;\n  height: 17px;\n  padding: 0px;\n  margin: 0px;\n"]))),Z=Object(k.b)(m||(m=Object(Q.a)(["\n 0% {\n    transform: translateY(0px);\n    background-color:white;\n  }\n  28% {\n    transform: translateY(-7px);\n    background-color:#d9d8d8;\n  }\n  44% {\n    transform: translateY(0px);\n    background-color:#bbbaba;\n  }\n"]))),$=k.a.li(h||(h=Object(Q.a)(["\n  background-color: white;\n  border-radius: 50%;\n  height: 7px;\n  margin-right: 4px;\n  vertical-align: middle;\n  width: 7px;\n  &:nth-child(1) {\n    animation-delay: 200ms;\n  }\n  &:nth-child(2) {\n    animation-delay: 300ms;\n  }\n  &:nth-child(3) {\n    animation-delay: 400ms;\n  }\n  animation: "," 1.8s infinite ease-in-out;\n"])),Z),tt=k.a.div(f||(f=Object(Q.a)(["\n  margin: -70px 0px 0px 0px;\n  background-color: white;\n  border-radius: 5px;\n  box-shadow: rgb(0 0 0 / 10%) 0px 4px 15px 0px,\n    rgb(0 0 0 / 10%) 0px 1px 2px 0px, rgb(32 43 57 / 50%) 0px -2px 0px 0px;\n  display: flex;\n  flex-direction: column;\n"]))),et=k.a.form(v||(v=Object(Q.a)(["\n  display: flex;\n  width: 100%;\n  border-top: 1px solid rgb(230, 230, 230);\n  input {\n    border: none;\n    height: 40px;\n    width: 80%;\n    padding: 10px 20px;\n    outline: 0;\n  }\n  button {\n    border: none;\n    background-color: white;\n    width: 18%;\n    display: flex;\n    justify-content: end;\n    align-items: center;\n    img {\n      width: 32px;\n      height: 32px;\n    }\n  }\n"]))),ot=k.a.div(j||(j=Object(Q.a)(["\n  display: flex;\n  flex-direction: column;\n  max-height: 400px;\n  min-height: 400px;\n  background: white;\n  overflow-y: auto;\n  padding: 15px 20px;\n  span {\n    width: fit-content;\n    height: fit-content;\n    border-top-left-radius: 10px;\n    border-top-right-radius: 10px;\n    border-bottom-right-radius: 10px;\n    margin-bottom: 10px;\n  }\n"]))),nt=k.a.div(x||(x=Object(Q.a)(["\n  display: flex;\n  align-items: center;\n  span {\n    background-color: #9b9b9b;\n    color: white;\n    padding: 10px;\n  }\n  img {\n    width: 40px;\n    height: 40px;\n    margin-right: 10px;\n  }\n"]))),st=k.a.div(O||(O=Object(Q.a)(["\n  margin-left: auto;\n  span {\n    display: block;\n    background-color: #0073a5;\n    color: white;\n    margin-left: 10px;\n    padding: 10px;\n  }\n"]))),it=o(15),rt=o(2),at=o.p+"static/media/bot-icon.cfbb308b.png",lt=o(22),ct=o.n(lt);var ut,dt=function(t){var e=t.buttons,o=t.text,n=t.onBtnClick;return Object(J.jsxs)(gt,{children:[Object(J.jsx)(bt,{children:o}),Object(J.jsx)(pt,{children:null===e||void 0===e?void 0:e.map((function(t){return Object(J.jsx)(mt,{onClick:function(){n(t)},children:null===t||void 0===t?void 0:t.title},ct()())}))})]})},gt=k.a.div(y||(y=Object(Q.a)(["\n  max-width: 300px;\n  text-align: center;\n"]))),bt=k.a.h3(M||(M=Object(Q.a)(["\n  margin: 0px;\n  background-color: #0073a5;\n  padding: 20px;\n  border-top-left-radius: 20px;\n  border-top-right-radius: 20px;\n  color: white;\n  border: 1px solid #f0f0f0;\n"]))),pt=k.a.ul(N||(N=Object(Q.a)(["\n  padding: 0px;\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 0px;\n  border: 1px solid #f0f0f0;\n  border-bottom-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n"]))),mt=k.a.li(S||(S=Object(Q.a)(["\n  border-bottom: 1px solid #f0f0f0;\n  width: 100%;\n  padding: 10px 0px;\n  color: #9b9b9b;\n  cursor: pointer;\n  &:hover {\n    color: #0073a5;\n  }\n  &:last-child {\n    border-bottom: none;\n  }\n"]))),ht=o(42),ft=Object(ht.a)("wss://english-bot-test.herokuapp.com/"),vt=["You are too close , but the right answer is {ANSWER}","The correct answer is {ANSWER}","{ANSWER} this is the correct"," Oh sorry , the write answer is {ANSWER}"],jt=["You are right \ud83e\udd29","you are too good","great \ud83d\udc4f","Nice \ud83d\ude01\ud83d\ude01","You are right \u2705 "],xt=["Happy end","See you later\ud83d\ude4b\u200d\u2640\ufe0f"," Peace out\ud83e\udd73"," It was nice to see you again\ud83d\ude4b\u200d\u2640\ufe0f","Take care","I look forward to our next dialogue","Good bye \ud83d\ude07","Bye bye!\ud83d\udc4b","Have a nice day","Goodnight \ud83d\ude07","I\u2019m out of here","\ud83e\udd73"],Ot=["You are wrong \u2639\ufe0f","false \u2639\ufe0f ","Incorrect answer ","Sorry , wrong \ud83d\ude21 ","bad \u2639\ufe0f ","That\u2019s wrong answer \ud83d\ude20 ","Sad "],yt=["Please think again","Try again ","Repeat your answer ","Please retry again \ud83d\ude35 ","Sorry, Retry","\ud83d\ude35"],Mt=["Go to study again","ask your teacher \ud83e\uddd1\u200d\ud83c\udfeb","Ask your teacher for tips & tricks \ud83e\uddd1\u200d\ud83c\udfeb","ask your tutor \ud83e\uddd1\u200d\ud83c\udfeb","Bad luck"," go to our website and study again","Revise your lessons","Looking back to your lesson","You should revise your lessons \u270d\ufe0f","reflect your daily instructional activities \u270d\ufe0f"],Nt=function(t){var e=t.questionNo,o=t.currentQuestionType,n=t.botMsg,s=t.modelNo,i=t.messages,r=t.setTyping,a=t.setQuestionNo,l=t.setMessages,c=t.setBotMsg,u=t.setModelNo,d=t.setCurrentQuestionType,g=Object(T.useRef)();Object(T.useEffect)((function(){var t;(localStorage.setItem("messages1",JSON.stringify({messages:i})),"English BOT"===(null===i||void 0===i||null===(t=i[i.length-1])||void 0===t?void 0:t.from))&&new Audio("https://english-bot-test.herokuapp.com/assets/elegant-notification-sound.mp3").play();!function(){var t;null===g||void 0===g||null===(t=g.current)||void 0===t||t.addEventListener("DOMNodeInserted",(function(t){var e=t.currentTarget;e.scroll({top:e.scrollHeight,behavior:"smooth"})}))}()}),[i]),Object(T.useEffect)((function(){0===i.length&&setTimeout((function(){ft.emit("getIntroQuestion",{questionNo:e}),ft.on("responseIntroQuestion",(function(t){var o=t.message,n=t.last;l([].concat(Object(rt.a)(i),[{from:"English BOT",text:o.text}])),n||a(e+1),r(!1)}))}),2e3)}),[]),Object(T.useEffect)((function(){"model"===o&&(ft.off("checkGrammerResult"),ft.on("checkGrammerResult",(function(t){var o=t.message,a=t.result,c=a.result,u=a.corrections;0===(null===u||void 0===u?void 0:u.length)||(null===o||void 0===o?void 0:o.toLowerCase().replace(/\ /g,""))===(null===c||void 0===c?void 0:c.toLocaleLowerCase().replace(/\ /g,""))?l([].concat(Object(rt.a)(i),[{from:"English BOT",text:jt[Math.floor(Math.random()*(jt.length-1))],type:null===o||void 0===o?void 0:o.type,buttons:null===o||void 0===o?void 0:o.buttons}])):l([].concat(Object(rt.a)(i),[{from:"English BOT",text:"\n              ".concat(vt[Math.floor(Math.random()*(vt.length-1))].replace("{ANSWER}","<strong>".concat(c,"</strong>")),"\n              "),type:null===o||void 0===o?void 0:o.type,buttons:null===o||void 0===o?void 0:o.buttons}])),setTimeout((function(){n.last?ft.emit("getEndQuestion",{}):ft.emit("getModelQuestion",{questionNo:e,modelNo:s}),r(!1)}),4e3)}))),ft.off("responseIntroQuestion"),ft.off("responseModelQuestion"),ft.on("responseIntroQuestion",(function(t){var o=t.message,n=t.last;l([].concat(Object(rt.a)(i),[{from:"English BOT",text:o.text,type:null===o||void 0===o?void 0:o.type,buttons:null===o||void 0===o?void 0:o.buttons}])),c({message:o,last:n}),n||a(e+1),r(!1)})),ft.on("responseModelQuestion",(function(t){var o,g,b=t.message,p=t.last;(l([].concat(Object(rt.a)(i),[{from:"English BOT",text:null===b||void 0===b?void 0:b.text,type:null===b||void 0===b?void 0:b.type,buttons:null===b||void 0===b?void 0:b.buttons}])),c({message:b,last:p}),p)?!(null===(o=JSON.parse(localStorage.getItem("doneBefore1")))||void 0===o?void 0:o.flag)&&s<2?(u(s+1),c(Object(it.a)(Object(it.a)({},n),{},{last:!1})),a(0)):!(null===(g=JSON.parse(localStorage.getItem("doneBefore1")))||void 0===g?void 0:g.flag)&&2===s&&n.last?(localStorage.setItem("doneBefore1",JSON.stringify({flag:!0})),l([].concat(Object(rt.a)(i),[{from:"English BOT",text:xt[Math.floor(Math.random()*(xt.length-1))]}])),d("end"),r(!1)):(l([].concat(Object(rt.a)(i),[{from:"English BOT",text:xt[Math.floor(Math.random()*(xt.length-1))]}])),d("end")):a(e+1);r(!1)}))}),[i,e,o,s,n.last,n,l,r,c,a,u,d]);var b=function(t){l([].concat(Object(rt.a)(i),[{from:"Me",text:t.title}])),setTimeout((function(){if(r(!1),!0===t.correct)l([].concat(Object(rt.a)(i),[{from:"Me",text:t.title},{from:"English BOT",text:jt[Math.floor(Math.random()*(jt.length-1))],type:null===t||void 0===t?void 0:t.type,buttons:null===t||void 0===t?void 0:t.buttons}]));else{var o,a=null===(o=n.message.buttons.find((function(t){return!0===t.correct})))||void 0===o?void 0:o.title;l([].concat(Object(rt.a)(i),[{from:"Me",text:t.title},{from:"English BOT",text:"\n            ".concat(vt[Math.floor(Math.random()*(vt.length-1))].replace("{ANSWER}","<strong>".concat(a,"</strong>")),"\n            "),type:null===t||void 0===t?void 0:t.type,buttons:null===t||void 0===t?void 0:t.buttons}]))}n.last?ft.emit("getEndQuestion",{}):ft.emit("getModelQuestion",{questionNo:e,modelNo:s})}),2e3)};return Object(J.jsx)(ot,{ref:g,children:i.map((function(t,e){var o=t.from,n=t.text,s=t.type,i=t.buttons;return Object(J.jsx)(J.Fragment,{children:"English BOT"===o?Object(J.jsxs)(nt,{children:[Object(J.jsx)("img",{src:at,alt:" "}),"@message-type/button"===s?Object(J.jsx)(dt,{buttons:i,text:n,onBtnClick:b}):Object(J.jsx)("span",{dangerouslySetInnerHTML:{__html:"\n                    <style>\n                    strong{\n                      color: #74eaf4;\n                    }\n                    </style>\n                    <div>".concat(n,"</div>\n                    ")}})]},ct()()):Object(J.jsx)(st,{children:Object(J.jsx)("span",{children:n})},e)})}))})},St=o.p+"static/media/send.01c24b89.png",Tt=function(t){var e=t.questionNo,o=t.currentQuestionType,n=t.botMsg,s=t.modelNo,i=t.messages,r=t.setTyping,a=t.setQuestionNo,l=t.setMessages,c=t.setBotMsg,u=t.setCurrentQuestionType,d=Object(T.useState)({text:""}),g=Object(w.a)(d,2),b=g[0],p=g[1];return Object(J.jsxs)(et,{onSubmit:function(t){return function(t){var d,g;t.preventDefault(),l([].concat(Object(rt.a)(i),[{from:"Me",text:b.text}])),r(!0),(null===n||void 0===n||null===(d=n.message)||void 0===d||null===(g=d.response)||void 0===g?void 0:g.length)>0&&"intro"===o&&setTimeout((function(){var t=n.message.response[Math.floor(Math.random()*(n.message.response.length-1))];l([].concat(Object(rt.a)(i),[{from:"Me",text:b.text},{from:"English BOT",text:t}])),n.last?(u("model"),a(0),c({}),ft.emit("getModelQuestion",{questionNo:e,modelNo:s})):(r(!0),ft.emit("getIntroQuestion",{questionNo:e}))}),1e3),"model"===o&&ft.emit("checkGrammer",Object(it.a)(Object(it.a)({},b),{},{_id:n.message._id})),p({text:""})}(t)},children:[Object(J.jsx)("input",{value:b.text,onChange:function(t){return p({text:t.target.value})},type:"text",placeholder:"send a message..."}),Object(J.jsx)("button",{type:"submit",children:Object(J.jsx)("img",{src:St,alt:""})})]})},Et=function(t){var e,o,n,s,i,r,a,l,c,u=t.setActive,d=Object(T.useState)((null===(e=JSON.parse(localStorage.getItem("bot1")))||void 0===e?void 0:e.questionNo)||0),g=Object(w.a)(d,2),b=g[0],p=g[1],m=Object(T.useState)(null!==(o=null===(n=JSON.parse(localStorage.getItem("bot1")))||void 0===n?void 0:n.modelNo)&&void 0!==o?o:(null===(s=JSON.parse(localStorage.getItem("doneBefore1")))||void 0===s?void 0:s.flag)?Math.floor(3*Math.random()):0),h=Object(w.a)(m,2),f=h[0],v=h[1],j=Object(T.useState)((null===(i=JSON.parse(localStorage.getItem("messages1")))||void 0===i?void 0:i.messages)||[]),x=Object(w.a)(j,2),O=x[0],y=x[1],M=Object(T.useState)(null===(r=null===(a=JSON.parse(localStorage.getItem("bot1")))||void 0===a?void 0:a.typing)||void 0===r||r),N=Object(w.a)(M,2),S=N[0],E=N[1],I=Object(T.useState)((null===(l=JSON.parse(localStorage.getItem("bot1")))||void 0===l?void 0:l.botMsg)||{}),B=Object(w.a)(I,2),Q=B[0],k=B[1],q=Object(T.useState)((null===(c=JSON.parse(localStorage.getItem("bot1")))||void 0===c?void 0:c.currentQuestionType)||"intro"),C=Object(w.a)(q,2),A=C[0],L=C[1];return Object(T.useEffect)((function(){u(!0)}),[u]),Object(T.useEffect)((function(){localStorage.setItem("bot1",JSON.stringify({questionNo:b,currentQuestionType:A,botMsg:Q,typing:S,modelNo:f}))}),[b,A,Q,S,f]),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(tt,{children:[Object(J.jsx)(Nt,{questionNo:b,currentQuestionType:A,botMsg:Q,typing:S,modelNo:f,messages:O,setTyping:E,setQuestionNo:p,setMessages:y,setBotMsg:k,setModelNo:v,setCurrentQuestionType:L}),S&&Object(J.jsx)(U,{}),Object(J.jsx)(Tt,{questionNo:b,currentQuestionType:A,botMsg:Q,modelNo:f,messages:O,setTyping:E,setQuestionNo:p,setMessages:y,setBotMsg:k,setCurrentQuestionType:L})]})})},It=function(t){var e=t.questionNo,o=t.currentQuestionType,n=t.botMsg,s=t.modelNo,i=t.messages,r=t.setTyping,a=t.setQuestionNo,l=t.setMessages,c=t.setBotMsg,u=t.setModelNo,d=t.setCurrentQuestionType,g=Object(T.useRef)();Object(T.useEffect)((function(){var t;(localStorage.setItem("messages2",JSON.stringify({messages:i})),"English BOT"===(null===i||void 0===i||null===(t=i[i.length-1])||void 0===t?void 0:t.from))&&new Audio("https://english-bot-test.herokuapp.com/assets/elegant-notification-sound.mp3").play();!function(){var t;null===g||void 0===g||null===(t=g.current)||void 0===t||t.addEventListener("DOMNodeInserted",(function(t){var e=t.currentTarget;e.scroll({top:e.scrollHeight,behavior:"smooth"})}))}()}),[i]),Object(T.useEffect)((function(){0===i.length&&setTimeout((function(){ft.emit("getIntroQuestion",{questionNo:e}),ft.on("responseIntroQuestion",(function(t){var o=t.message,n=t.last;l([].concat(Object(rt.a)(i),[{from:"English BOT",text:o.text}])),n||a(e+1),r(!1)}))}),2e3)}),[]),Object(T.useEffect)((function(){"model"===o&&(ft.off("checkGrammerResult"),ft.on("checkGrammerResult",(function(t){var o=t.message,a=t.result,c=a.result,u=a.corrections;0===(null===u||void 0===u?void 0:u.length)||(null===o||void 0===o?void 0:o.toLowerCase().replace(/\ /g,""))===(null===c||void 0===c?void 0:c.toLocaleLowerCase().replace(/\ /g,""))?l([].concat(Object(rt.a)(i),[{from:"English BOT",text:jt[Math.floor(Math.random()*(jt.length-1))],type:null===o||void 0===o?void 0:o.type,buttons:null===o||void 0===o?void 0:o.buttons}])):l([].concat(Object(rt.a)(i),[{from:"English BOT",text:Ot[Math.floor(Math.random()*(Ot.length-1))],type:null===o||void 0===o?void 0:o.type,buttons:null===o||void 0===o?void 0:o.buttons},{from:"English BOT",text:"the right answer is <strong>".concat(c,"</strong>"),type:null===o||void 0===o?void 0:o.type,buttons:null===o||void 0===o?void 0:o.buttons}])),setTimeout((function(){n.last?ft.emit("getEndQuestion",{}):ft.emit("getModelQuestion",{questionNo:e,modelNo:s}),r(!1)}),4e3)}))),ft.off("responseIntroQuestion"),ft.off("responseModelQuestion"),ft.on("responseIntroQuestion",(function(t){var o=t.message,n=t.last;l([].concat(Object(rt.a)(i),[{from:"English BOT",text:o.text,type:null===o||void 0===o?void 0:o.type,buttons:null===o||void 0===o?void 0:o.buttons}])),c({message:o,last:n}),n||a(e+1),r(!1)})),ft.on("responseModelQuestion",(function(t){var o,g,b=t.message,p=t.last;(l([].concat(Object(rt.a)(i),[{from:"English BOT",text:null===b||void 0===b?void 0:b.text,type:null===b||void 0===b?void 0:b.type,buttons:null===b||void 0===b?void 0:b.buttons}])),c({message:b,last:p}),p)?!(null===(o=JSON.parse(localStorage.getItem("doneBefore2")))||void 0===o?void 0:o.flag)&&s<2?(u(s+1),c(Object(it.a)(Object(it.a)({},n),{},{last:!1})),a(0)):!(null===(g=JSON.parse(localStorage.getItem("doneBefore2")))||void 0===g?void 0:g.flag)&&2===s&&n.last?(localStorage.setItem("doneBefore2",JSON.stringify({flag:!0})),l([].concat(Object(rt.a)(i),[{from:"English BOT",text:xt[Math.floor(Math.random()*(xt.length-1))]}])),d("end"),r(!1)):(l([].concat(Object(rt.a)(i),[{from:"English BOT",text:xt[Math.floor(Math.random()*(xt.length-1))]}])),d("end")):a(e+1);r(!1)}))}),[i,e,o,s,n.last,n,l,r,c,a,u,d]);var b=function(t){l([].concat(Object(rt.a)(i),[{from:"Me",text:t.title}])),setTimeout((function(){if(r(!1),!0===t.correct)l([].concat(Object(rt.a)(i),[{from:"Me",text:t.title},{from:"English BOT",text:jt[Math.floor(Math.random()*(jt.length-1))],type:null===t||void 0===t?void 0:t.type,buttons:null===t||void 0===t?void 0:t.buttons}]));else{var o,a=null===(o=n.message.buttons.find((function(t){return!0===t.correct})))||void 0===o?void 0:o.title;l([].concat(Object(rt.a)(i),[{from:"Me",text:t.title},{from:"English BOT",text:Ot[Math.floor(Math.random()*(Ot.length-1))],type:null===t||void 0===t?void 0:t.type,buttons:null===t||void 0===t?void 0:t.buttons},{from:"English BOT",text:"the right answer is <strong>".concat(a,"</strong>"),type:null===t||void 0===t?void 0:t.type,buttons:null===t||void 0===t?void 0:t.buttons}]))}n.last?ft.emit("getEndQuestion",{}):ft.emit("getModelQuestion",{questionNo:e,modelNo:s})}),1e3)};return Object(J.jsx)(ot,{ref:g,children:i.map((function(t,e){var o=t.from,n=t.text,s=t.type,r=t.buttons;return Object(J.jsx)(J.Fragment,{children:"English BOT"===o?Object(J.jsxs)(nt,{children:[Object(J.jsx)("img",{src:at,alt:" "}),"@message-type/button"===s?Object(J.jsx)(dt,{buttons:r,text:n,setMessages:l,messages:i,socket:ft,onBtnClick:b}):Object(J.jsx)("span",{dangerouslySetInnerHTML:{__html:"\n                    <style>\n                    strong{\n                      color: #74eaf4;\n                    }\n                    </style>\n                    <div>".concat(n,"</div>\n                    ")}})]},ct()()):Object(J.jsx)(st,{children:Object(J.jsx)("span",{children:n})},e)})}))})},Bt=function(t){var e,o,n,s,i,r,a,l,c,u=t.setActive,d=Object(T.useState)((null===(e=JSON.parse(localStorage.getItem("bot2")))||void 0===e?void 0:e.questionNo)||0),g=Object(w.a)(d,2),b=g[0],p=g[1],m=Object(T.useState)(null!==(o=null===(n=JSON.parse(localStorage.getItem("bot2")))||void 0===n?void 0:n.modelNo)&&void 0!==o?o:(null===(s=JSON.parse(localStorage.getItem("doneBefore2")))||void 0===s?void 0:s.flag)?Math.floor(3*Math.random()):0),h=Object(w.a)(m,2),f=h[0],v=h[1],j=Object(T.useState)((null===(i=JSON.parse(localStorage.getItem("messages2")))||void 0===i?void 0:i.messages)||[]),x=Object(w.a)(j,2),O=x[0],y=x[1],M=Object(T.useState)(null===(r=null===(a=JSON.parse(localStorage.getItem("bot2")))||void 0===a?void 0:a.typing)||void 0===r||r),N=Object(w.a)(M,2),S=N[0],E=N[1],I=Object(T.useState)((null===(l=JSON.parse(localStorage.getItem("bot2")))||void 0===l?void 0:l.botMsg)||{}),B=Object(w.a)(I,2),Q=B[0],k=B[1],q=Object(T.useState)((null===(c=JSON.parse(localStorage.getItem("bot2")))||void 0===c?void 0:c.currentQuestionType)||"intro"),C=Object(w.a)(q,2),A=C[0],L=C[1];return Object(T.useEffect)((function(){u(!0)}),[u]),Object(T.useEffect)((function(){localStorage.setItem("bot2",JSON.stringify({questionNo:b,currentQuestionType:A,botMsg:Q,typing:S,modelNo:f}))}),[b,A,Q,S,f]),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(tt,{children:[Object(J.jsx)(It,{questionNo:b,currentQuestionType:A,botMsg:Q,typing:S,modelNo:f,messages:O,setTyping:E,setQuestionNo:p,setMessages:y,setBotMsg:k,setModelNo:v,setCurrentQuestionType:L}),S&&Object(J.jsx)(U,{}),Object(J.jsx)(Tt,{questionNo:b,currentQuestionType:A,botMsg:Q,modelNo:f,messages:O,setTyping:E,setQuestionNo:p,setMessages:y,setBotMsg:k,setCurrentQuestionType:L})]})})},Qt=function(t){var e=t.questionNo,o=t.currentQuestionType,n=t.botMsg,s=t.modelNo,i=t.messages,r=t.setTyping,a=t.setQuestionNo,l=t.setMessages,c=t.setBotMsg,u=t.setModelNo,d=t.setCurrentQuestionType,g=Object(T.useState)(0),b=Object(w.a)(g,2),p=b[0],m=b[1],h=Object(T.useRef)();Object(T.useEffect)((function(){var t;(localStorage.setItem("messages3",JSON.stringify({messages:i})),"English BOT"===(null===i||void 0===i||null===(t=i[i.length-1])||void 0===t?void 0:t.from))&&new Audio("https://english-bot-test.herokuapp.com/assets/elegant-notification-sound.mp3").play();!function(){var t;null===h||void 0===h||null===(t=h.current)||void 0===t||t.addEventListener("DOMNodeInserted",(function(t){var e=t.currentTarget;e.scroll({top:e.scrollHeight,behavior:"smooth"})}))}()}),[i]),Object(T.useEffect)((function(){0===i.length&&setTimeout((function(){ft.emit("getIntroQuestion",{questionNo:e}),ft.on("responseIntroQuestion",(function(t){var o=t.message,n=t.last;l([].concat(Object(rt.a)(i),[{from:"English BOT",text:o.text}])),n||a(e+1),r(!1)}))}),2e3)}),[]),Object(T.useEffect)((function(){"model"===o&&(ft.off("checkGrammerResult"),ft.on("checkGrammerResult",(function(t){var o=t.message,a=t.result,c=a.result,u=a.corrections;0===(null===u||void 0===u?void 0:u.length)||(null===o||void 0===o?void 0:o.toLowerCase().replace(/\ /g,""))===(null===c||void 0===c?void 0:c.toLocaleLowerCase().replace(/\ /g,""))?(l([].concat(Object(rt.a)(i),[{from:"English BOT",text:jt[Math.floor(Math.random()*(jt.length-1))],type:null===o||void 0===o?void 0:o.type,buttons:null===o||void 0===o?void 0:o.buttons}])),n.last?ft.emit("getEndQuestion",{}):ft.emit("getModelQuestion",{questionNo:e,modelNo:s})):(m(p+1),p>=0&&p<3?(l([].concat(Object(rt.a)(i),[{from:"English BOT",text:yt[Math.floor(Math.random()*(yt.length-1))],type:null===o||void 0===o?void 0:o.type,buttons:null===o||void 0===o?void 0:o.buttons}])),r(!1)):3===p?(l([].concat(Object(rt.a)(i),[{from:"English BOT",text:Mt[Math.floor(Math.random()*(Mt.length-1))],type:null===o||void 0===o?void 0:o.type,buttons:null===o||void 0===o?void 0:o.buttons}])),r(!1)):(m(0),l([].concat(Object(rt.a)(i),[{from:"English BOT",text:"\n                    ".concat(vt[Math.floor(Math.random()*(vt.length-1))].replace("{ANSWER}","<strong>".concat(c,"</strong>")),"\n                    "),type:null===o||void 0===o?void 0:o.type,buttons:null===o||void 0===o?void 0:o.buttons}])),setTimeout((function(){n.last?ft.emit("getEndQuestion",{}):ft.emit("getModelQuestion",{questionNo:e,modelNo:s}),r(!1)}),4e3)))}))),ft.off("responseIntroQuestion"),ft.off("responseModelQuestion"),ft.on("responseIntroQuestion",(function(t){var o=t.message,n=t.last;l([].concat(Object(rt.a)(i),[{from:"English BOT",text:o.text,type:null===o||void 0===o?void 0:o.type,buttons:null===o||void 0===o?void 0:o.buttons}])),c({message:o,last:n}),n||a(e+1),r(!1)})),ft.on("responseModelQuestion",(function(t){var o,g,b=t.message,p=t.last;(l([].concat(Object(rt.a)(i),[{from:"English BOT",text:null===b||void 0===b?void 0:b.text,type:null===b||void 0===b?void 0:b.type,buttons:null===b||void 0===b?void 0:b.buttons}])),c({message:b,last:p}),p)?!(null===(o=JSON.parse(localStorage.getItem("doneBefore3")))||void 0===o?void 0:o.flag)&&s<2?(u(s+1),c(Object(it.a)(Object(it.a)({},n),{},{last:!1})),a(0)):!(null===(g=JSON.parse(localStorage.getItem("doneBefore3")))||void 0===g?void 0:g.flag)&&2===s&&n.last?(localStorage.setItem("doneBefore3",JSON.stringify({flag:!0})),l([].concat(Object(rt.a)(i),[{from:"English BOT",text:xt[Math.floor(Math.random()*(xt.length-1))]}])),d("end"),r(!1)):(l([].concat(Object(rt.a)(i),[{from:"English BOT",text:xt[Math.floor(Math.random()*(xt.length-1))]}])),d("end")):a(e+1);r(!1)}))}),[i,e,o,s,n.last,p,n,l,r,c,a,u,d]);var f=function(t){var o=[].concat(Object(rt.a)(i),[{from:"Me",text:t.title}]);setTimeout((function(){if(r(!1),!0===t.correct)l([].concat(Object(rt.a)(o),[{from:"English BOT",text:jt[Math.floor(Math.random()*(jt.length-1))],type:null===t||void 0===t?void 0:t.type,buttons:null===t||void 0===t?void 0:t.buttons}])),n.last?ft.emit("getEndQuestion",{}):ft.emit("getModelQuestion",{questionNo:e,modelNo:s});else if(m(p+1),r(!1),p>=0&&p<3)l([].concat(Object(rt.a)(o),[{from:"English BOT",text:yt[Math.floor(Math.random()*(yt.length-1))],type:null===t||void 0===t?void 0:t.type,buttons:null===t||void 0===t?void 0:t.buttons}]));else if(3===p)l([].concat(Object(rt.a)(o),[{from:"English BOT",text:Mt[Math.floor(Math.random()*(Mt.length-1))],type:null===t||void 0===t?void 0:t.type,buttons:null===t||void 0===t?void 0:t.buttons}]));else{var i;m(0);var a=null===(i=n.message.buttons.find((function(t){return!0===t.correct})))||void 0===i?void 0:i.title;l([].concat(Object(rt.a)(o),[{from:"Me",text:t.title},{from:"English BOT",text:"\n                ".concat(vt[Math.floor(Math.random()*(vt.length-1))].replace("{ANSWER}","<strong>".concat(a,"</strong>")),"\n                "),type:null===t||void 0===t?void 0:t.type,buttons:null===t||void 0===t?void 0:t.buttons}])),n.last?ft.emit("getEndQuestion",{}):ft.emit("getModelQuestion",{questionNo:e,modelNo:s})}}),1e3)};return Object(J.jsx)(ot,{ref:h,children:i.map((function(t,e){var o=t.from,n=t.text,s=t.type,r=t.buttons;return Object(J.jsx)(J.Fragment,{children:"English BOT"===o?Object(J.jsxs)(nt,{children:[Object(J.jsx)("img",{src:at,alt:" "}),"@message-type/button"===s?Object(J.jsx)(dt,{buttons:r,text:n,setMessages:l,messages:i,socket:ft,onBtnClick:f}):Object(J.jsx)("span",{dangerouslySetInnerHTML:{__html:"\n                    <style>\n                    strong{\n                      color: #74eaf4;\n                    }\n                    </style>\n                    <div>".concat(n,"</div>\n                    ")}})]},ct()()):Object(J.jsx)(st,{children:Object(J.jsx)("span",{children:n})},e)})}))})},wt=function(t){var e,o,n,s,i,r,a,l,c,u=t.setActive,d=Object(T.useState)((null===(e=JSON.parse(localStorage.getItem("bot3")))||void 0===e?void 0:e.questionNo)||0),g=Object(w.a)(d,2),b=g[0],p=g[1],m=Object(T.useState)(null!==(o=null===(n=JSON.parse(localStorage.getItem("bot3")))||void 0===n?void 0:n.modelNo)&&void 0!==o?o:(null===(s=JSON.parse(localStorage.getItem("doneBefore3")))||void 0===s?void 0:s.flag)?Math.floor(3*Math.random()):0),h=Object(w.a)(m,2),f=h[0],v=h[1],j=Object(T.useState)((null===(i=JSON.parse(localStorage.getItem("messages3")))||void 0===i?void 0:i.messages)||[]),x=Object(w.a)(j,2),O=x[0],y=x[1],M=Object(T.useState)(null===(r=null===(a=JSON.parse(localStorage.getItem("bot3")))||void 0===a?void 0:a.typing)||void 0===r||r),N=Object(w.a)(M,2),S=N[0],E=N[1],I=Object(T.useState)((null===(l=JSON.parse(localStorage.getItem("bot3")))||void 0===l?void 0:l.botMsg)||{}),B=Object(w.a)(I,2),Q=B[0],k=B[1],q=Object(T.useState)((null===(c=JSON.parse(localStorage.getItem("bot3")))||void 0===c?void 0:c.currentQuestionType)||"intro"),C=Object(w.a)(q,2),A=C[0],L=C[1];return Object(T.useEffect)((function(){u(!0)}),[u]),Object(T.useEffect)((function(){localStorage.setItem("bot3",JSON.stringify({questionNo:b,currentQuestionType:A,botMsg:Q,typing:S,modelNo:f}))}),[b,A,Q,S,f]),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(tt,{children:[Object(J.jsx)(Qt,{questionNo:b,currentQuestionType:A,botMsg:Q,typing:S,modelNo:f,messages:O,setTyping:E,setQuestionNo:p,setMessages:y,setBotMsg:k,setModelNo:v,setCurrentQuestionType:L}),S&&Object(J.jsx)(U,{}),Object(J.jsx)(Tt,{questionNo:b,currentQuestionType:A,botMsg:Q,modelNo:f,messages:O,setTyping:E,setQuestionNo:p,setMessages:y,setBotMsg:k,setCurrentQuestionType:L})]})})},kt=o(3),Jt=function(){var t=Object(T.useState)(!1),e=Object(w.a)(t,2),o=e[0],n=e[1];return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Y,{active:o,setActive:n}),Object(J.jsx)(qt,{children:Object(J.jsxs)(kt.c,{children:[Object(J.jsx)(kt.a,{path:"/english-bot",element:Object(J.jsx)(C,{setActive:n})}),Object(J.jsx)(kt.a,{path:"/english-bot/bot1",element:Object(J.jsx)(Et,{setActive:n})}),Object(J.jsx)(kt.a,{path:"/english-bot/bot2",element:Object(J.jsx)(Bt,{setActive:n})}),Object(J.jsx)(kt.a,{path:"/english-bot/bot3",element:Object(J.jsx)(wt,{setActive:n})})]})})]})},qt=k.a.div(ut||(ut=Object(Q.a)(["\n  padding: 0px 25px;\n"])));o(57);I.a.render(Object(J.jsx)(B.a,{children:Object(J.jsx)(Jt,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.fdde1010.chunk.js.map